USE MASTER 
GO

IF EXISTS(SELECT * FROM SYS.SYSDATABASES WHERE NAME ='BASE_ANIMEFLV')
DROP DATABASE BASE_ANIMEFLV

CREATE DATABASE BASE_ANIMEFLV
GO

USE BASE_ANIMEFLV
GO

CREATE TABLE CATEGORIA(
ID_CATEGORIA INT IDENTITY(1000,1),
NOME_CATEGORIA VARCHAR(50) UNIQUE ,
DESCRIPCION VARCHAR(300)NULL,
PRIMARY KEY(ID_CATEGORIA)
)
GO

CREATE TABLE SERIE(
ID_SERIE VARCHAR(8),
ID_CATEGORIA INT,
NAME_SERIE VARCHAR(50) UNIQUE, 
PRECIO NUMERIC(8,2),
STOCK INT ,
PRIMARY KEY(ID_SERIE),
FOREIGN KEY(ID_CATEGORIA) REFERENCES CATEGORIA(ID_CATEGORIA)
)
GO


CREATE TABLE CLIENTE(
ID_CLIENTE VARCHAR(8),
NOMBRE VARCHAR(30),
APELLIDO VARCHAR(30),
DIRECCION VARCHAR(40),
TELEFONO VARCHAR(9),
EMAIL VARCHAR(30),
PRIMARY KEY(ID_CLIENTE)
)
GO


CREATE TABLE FACTURA(
NUM_FACTURA VARCHAR(8) UNIQUE,
ID_CLIENTE VARCHAR(8),
FECHA DATETIME ,
PAGO_TOTAL NUMERIC(8,2),
FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTE(ID_CLIENTE),

)
GO

CREATE TABLE DETALLE_FACTURA(
NUM_FACTURA VARCHAR(8) NOT NULL ,
ID_SERIE VARCHAR(8) NOT NULL,
CANT INT,

FOREIGN KEY(NUM_FACTURA) REFERENCES FACTURA(NUM_FACTURA),
FOREIGN KEY(ID_SERIE) REFERENCES SERIE(ID_SERIE)
)
GO

INSERT INTO CATEGORIA VALUES('Acción',null)
INSERT INTO CATEGORIA VALUES('Aventuras',null)
INSERT INTO CATEGORIA VALUES('Carreras',null)
INSERT INTO CATEGORIA VALUES('Ciencia y Ficción',null)
INSERT INTO CATEGORIA VALUES('Comedia',null)
INSERT INTO CATEGORIA VALUES('Deportes',null)
INSERT INTO CATEGORIA VALUES('Infantil',null)
INSERT INTO CATEGORIA VALUES('Artes marciales',null)
INSERT INTO CATEGORIA VALUES('Militar',null)
INSERT INTO CATEGORIA VALUES('Psicológico',null)

INSERT INTO SERIE VALUES('ACC_001',1000,'Accel World',80,140)
INSERT INTO SERIE VALUES('ACC_002',1000,'Akame Ga Kill',70,120)
INSERT INTO SERIE VALUES('ACC_003',1000,'Guilty Crow',90,160)
INSERT INTO SERIE VALUES('ACC_004',1000,'Sao Alicization',110,70)

INSERT INTO SERIE VALUES('AVE_005',1001,'Dororo',80,80)
INSERT INTO SERIE VALUES('AVE_006',1001,'Fairy Tail',50,110)
INSERT INTO SERIE VALUES('AVE_007',1001,'Grimms note',122,123)
INSERT INTO SERIE VALUES('AVE_008',1001,'Jojo´s Golden Wind',105,250)
INSERT INTO SERIE VALUES('AVE_009',1001,'Re Zero',80,70)

INSERT INTO SERIE VALUES('CAR_010',1002,'Initial D',80,90)
INSERT INTO SERIE VALUES('CAR_011',1002,'Capeta',62,100)
INSERT INTO SERIE VALUES('CAR_012',1002,'Meteoro',69,175)
INSERT INTO SERIE VALUES('CAR_013',1002,'Tailenders',30,39)



INSERT INTO SERIE VALUES('CCF_014',1003,'The promised neverland',65,87)
INSERT INTO SERIE VALUES('CCF_015',1003,'Island',89,120)
INSERT INTO SERIE VALUES('CCF_016',1003,'Steins;Gate',98,121)
INSERT INTO SERIE VALUES('CCF_017',1003,'Caligula',56,180)
INSERT INTO SERIE VALUES('CCF_018',1003,'Inuyashiki',32,72)


INSERT INTO SERIE VALUES('COM_019',1004,'Isekai quartet',182,90)
INSERT INTO SERIE VALUES('COM_020',1004,'Konosuba',62,120)
INSERT INTO SERIE VALUES('COM_021',1004,'Mob pysco 100',123,165)
INSERT INTO SERIE VALUES('COM_022',1004,'Akkun to kanojo',154,251)
INSERT INTO SERIE VALUES('COM_023',1004,'Comic Girls',92,120)


INSERT INTO SERIE VALUES('DEP_024',1005,'Super once',120,350)
INSERT INTO SERIE VALUES('DEP_025',1005,'Free',80,160)
INSERT INTO SERIE VALUES('DEP_026',1005,'Megalo box',160,223)
INSERT INTO SERIE VALUES('DEP_027',1005,'Prince of tennis',120,230)
INSERT INTO SERIE VALUES('DEP_028',1005,'Captain Tsubasa',65,130)



INSERT INTO SERIE VALUES('INF_029',1006,'Pokemon',60,80)
INSERT INTO SERIE VALUES('INF_030',1006,'Digimon',120,320)
INSERT INTO SERIE VALUES('INF_031',1006,'Kaidan restaurant',160,203)
INSERT INTO SERIE VALUES('INF_032',1006,'Ie naki ko',98,120)
INSERT INTO SERIE VALUES('INF_033',1006,'Pompoko',80,110)




INSERT INTO SERIE VALUES('AMR_034',1007,'Kenichi',100,200)
INSERT INTO SERIE VALUES('AMR_035',1007,'Souten no ken',64,120)
INSERT INTO SERIE VALUES('AMR_036',1007,'Hinomaruzumou',102,163)
INSERT INTO SERIE VALUES('AMR_037',1007,'Air master',145,290)
INSERT INTO SERIE VALUES('AMR_038',1007,'Rurouni Kenshin',95,130)




INSERT INTO SERIE VALUES('MIL_039',1008,'Shingeki no kyojin',120,230)
INSERT INTO SERIE VALUES('MIL_040',1008,'Berserk',90,130)
INSERT INTO SERIE VALUES('MIL_041',1008,'Joker game',122,123)
INSERT INTO SERIE VALUES('MIL_042',1008,'Youjo Senki',125,180)
INSERT INTO SERIE VALUES('MIL_043',1008,'Gate',95,120)

INSERT INTO SERIE VALUES('PSI_044',1009,'Kakegurui',95,150)
INSERT INTO SERIE VALUES('PSI_045',1009,'Wixoss',76,120)
INSERT INTO SERIE VALUES('PSI_046',1009,'Kokkoku',132,253)
INSERT INTO SERIE VALUES('PSI_047',1009,'Boku dake ga inai machi',125,270)
INSERT INTO SERIE VALUES('PSI_048',1009,'Satsuriku no tenshi',110,230)


INSERT INTO SERIE VALUES('ACC_049',1000,'One Punch Man',160,320)
INSERT INTO SERIE VALUES('ACC_050',1000,'Fairy Gone',60,90)
INSERT INTO SERIE VALUES('ACC_051',1000,'Radiant',60,100)
INSERT INTO SERIE VALUES('ACC_052',1000,'Boku no hero academia',140,250)

INSERT INTO SERIE VALUES('AVE_053',1001,'Tate no Yuusha no Narigari',80,80)
INSERT INTO SERIE VALUES('AVE_054',1001,'Golden Kamuy',50,110)
INSERT INTO SERIE VALUES('AVE_055',1001,'Shoujo Shuumatsu Ryokou',126,150)
INSERT INTO SERIE VALUES('AVE_056',1001,'Made in Abyss',115,253)
INSERT INTO SERIE VALUES('AVE_057',1001,'One piece',150,360)

INSERT INTO SERIE VALUES('CAR_058',1002,'Uma Musume',90,120)
INSERT INTO SERIE VALUES('CAR_059',1002,'Yowamuchi Pedal',62,106)
INSERT INTO SERIE VALUES('CAR_060',1002,'Bakuon!!',69,105)
INSERT INTO SERIE VALUES('CAR_061',1002,'Redline',60,109)



INSERT INTO SERIE VALUES('CCF_062',1003,'Kemurikusa',58,87)
INSERT INTO SERIE VALUES('CCF_063',1003,'Darling in the FranXX',155,189)
INSERT INTO SERIE VALUES('CCF_064',1003,'Seikaisuru Kado',150,186)
INSERT INTO SERIE VALUES('CCF_065',1003,'Divine Gate',96,130)
INSERT INTO SERIE VALUES('CCF_066',1003,'Balck Bullet',132,186)


INSERT INTO SERIE VALUES('COM_067',1004,'Mikakunin de Shinkoukei',122,150)
INSERT INTO SERIE VALUES('COM_068',1004,'Kaguya-sama wa Kokurasetai',82,132)
INSERT INTO SERIE VALUES('COM_069',1004,'Working!!!',111,195)
INSERT INTO SERIE VALUES('COM_070',1004,'Kobayahi-san Chi no Maid Dragon',150,261)
INSERT INTO SERIE VALUES('COM_071',1004,'Demi-chan wa kataritai',152,191)


INSERT INTO SERIE VALUES('DEP_072',1005,'Baby Steps',90,112)
INSERT INTO SERIE VALUES('DEP_073',1005,'Haikyuu!!',160,280)
INSERT INTO SERIE VALUES('DEP_074',1005,'Kuroko no basket',166,229)
INSERT INTO SERIE VALUES('DEP_075',1005,'Aoharu X Kikanjuu',123,253)
INSERT INTO SERIE VALUES('DEP_076',1005,'Ro-Kyu-Bu!',72,170)



INSERT INTO SERIE VALUES('INF_077',1006,'Yumeiro Patissiere',62,85)
INSERT INTO SERIE VALUES('INF_078',1006,'Shounen maid',100,240)
INSERT INTO SERIE VALUES('INF_079',1006,'Fastening Days',98,123)
INSERT INTO SERIE VALUES('INF_080',1006,'Bakugan',120,200)



INSERT INTO SERIE VALUES('AMR_081',1007,'Naruto',150,320)
INSERT INTO SERIE VALUES('AMR_082',1007,'Ben-To',94,150)
INSERT INTO SERIE VALUES('AMR_083',1007,'Medaka Box',122,183)
INSERT INTO SERIE VALUES('AMR_084',1007,'Sengoku Basara',115,300)
INSERT INTO SERIE VALUES('AMR_085',1007,'Maken-Ki!',96,130)




INSERT INTO SERIE VALUES('MIL_086',1008,'Shuumatsu no Izetta',130,250)
INSERT INTO SERIE VALUES('MIL_087',1008,'Full Metal Panic!',90,136)
INSERT INTO SERIE VALUES('MIL_088',1008,'Sora no Woto',92,123)
INSERT INTO SERIE VALUES('MIL_089',1008,'Code Geass',130,280)
INSERT INTO SERIE VALUES('MIL_090',1008,'Girls und Panzer',95,120)

INSERT INTO SERIE VALUES('PSI_091',1009,'Death Parade',125,250)
INSERT INTO SERIE VALUES('PSI_092',1009,'Death Note',250,360)
INSERT INTO SERIE VALUES('PSI_093',1009,'Monster',92,153)
INSERT INTO SERIE VALUES('PSI_094',1009,'Zetsunen no Tempest',128,290)
INSERT INTO SERIE VALUES('PSI_095',1009,'Elfen Lied',130,230)

INSERT INTO SERIE VALUES('PSI_096',1009,'Neon Genesis Evangelion',95,250)
INSERT INTO SERIE VALUES('PSI_097',1009,'Psycho-Pass',120,190)
INSERT INTO SERIE VALUES('PSI_098',1009,'Ergo Proxy',80,120)
INSERT INTO SERIE VALUES('PSI_099',1009,'Serial Experiments Lain',150,280)
INSERT INTO SERIE VALUES('PSI_100',1009,'Mirai Nikki',240,330)

SELECT * FROM DETALLE_FACTURA
select * from serie
SELECT * FROM CLIENTE
